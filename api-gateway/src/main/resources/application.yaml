server:
  port: 8888
spring:
    application:
        name: api-gateway
#  # ---- CẤU HÌNH SECURITY (XÁC THỰC) ----
#    security:
#      oauth2:
#        resourceserver:
#          jwt:
#            # Chỉ dẫn cho Gateway biết nơi lấy public key để xác thực JWT
#            introspection:
#              endpoint-uri: http://localhost:8080/identity/api/v1/auth/introspect

    cloud:
      gateway:
        routes:
          - id: identity-service
            uri: http://localhost:8080
            predicates:
             - Path=${app.api-prefix}/identity/**
            filters:
              - StripPrefix= 1
          - id: profile-service
            uri: http://localhost:8082
            predicates:
             - Path=${app.api-prefix}/profile/**
            filters:
              - StripPrefix= 1
app:
  api-prefix: /api